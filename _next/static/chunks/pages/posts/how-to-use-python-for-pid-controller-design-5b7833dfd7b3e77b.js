(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[968],{6776:function(n,e,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/posts/how-to-use-python-for-pid-controller-design",function(){return s(6499)}])},8047:function(n,e,s){"use strict";var a=s(5893),t=s(3855),o=s(5313);e.Z=function(n){var e=n.dateString,s=(0,t.Z)(e);return(0,a.jsx)("time",{dateTime:e,children:(0,o.Z)(s,"LLLL d, yyyy")})}},6124:function(n,e,s){"use strict";var a=s(5893),t=s(1664);e.Z=function(){var n=(new Date).getFullYear();return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("footer",{className:"py-12",children:[(0,a.jsxs)("div",{className:"flex justify-center space-x-4 mt-4",children:[(0,a.jsx)(t.default,{href:"https://github.com/alefram",children:(0,a.jsx)("a",{children:(0,a.jsx)("img",{alt:"githubFooter",src:"/images/github.svg",className:"w-8"})})}),(0,a.jsx)(t.default,{href:"https://twitter.com/FrauditaAlexis",children:(0,a.jsx)("a",{children:(0,a.jsx)("img",{alt:"twitterFooter",src:"/images/twitter.svg",className:"w-8"})})})]}),(0,a.jsx)("div",{className:"text-center text-lg text-background",children:(0,a.jsxs)("small",{children:["Make with \ud83d\udc99 \xa9",n," All rights reserved"]})})]})})}},7267:function(n,e,s){"use strict";s.d(e,{Z:function(){return l}});var a=s(5893),t=s(5631),o=s(6124),c=s(9008),r=s(8047);function l(n){var e=n.children,s=n.meta;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(c.default,{children:[(0,a.jsx)("title",{children:s.title}),(0,a.jsx)("meta",{name:"description",content:s.description}),(0,a.jsx)("meta",{name:"author",content:"Alexis Fraudita"}),(0,a.jsx)("meta",{name:"keywords",content:s.keywords}),(0,a.jsx)("meta",{property:"title",content:s.title}),(0,a.jsx)("meta",{property:"url",content:"https://alefram.github.io/posts/".concat(s.title)}),(0,a.jsx)("meta",{property:"type",content:"website"}),(0,a.jsx)("meta",{name:"viewport",content:"initial-scale=1.0, width=device-width"},"viewport"),(0,a.jsx)("meta",{name:"robots",content:"index, follow"}),(0,a.jsx)("meta",{property:"og:url",content:"https://alefram.github.io/posts/".concat(s.title)}),(0,a.jsx)("meta",{property:"og:type",content:"website"}),(0,a.jsx)("meta",{property:"og:title",content:s.title}),(0,a.jsx)("meta",{property:"og:description",content:s.description}),(0,a.jsx)("meta",{property:"og:image",content:"\ud83c\udfd3"}),(0,a.jsx)("meta",{name:"twitter:card",content:"summary_short_image"}),(0,a.jsx)("meta",{property:"twitter:domain",content:"alefram.github.io"}),(0,a.jsx)("meta",{property:"twitter:url",content:"https://alefram.github.io/posts/".concat(s.title)}),(0,a.jsx)("meta",{name:"twitter:title",content:s.title}),(0,a.jsx)("meta",{name:"twitter:description",content:s.description}),(0,a.jsx)("meta",{name:"twitter:image",content:"\ud83c\udfd3"})]}),(0,a.jsx)(t.Z,{}),(0,a.jsxs)("main",{className:"container mx-auto px-2 lg:px-0 lg:max-w-screen-md mt-10 content-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:" text-3xl font-sans font-bold text-background lg:text-4xl",children:s.title}),(0,a.jsx)("small",{className:"mt-1 text-gray-500 md:text-lg",children:(0,a.jsx)(r.Z,{dateString:s.date})})]}),(0,a.jsx)("div",{className:"prose prose-lg prose-p:text-base mt-4 font-nunito markdown prose-p:text-gray-900 prose-h2:text-background",children:e})]}),(0,a.jsx)(o.Z,{})]})}},5631:function(n,e,s){"use strict";var a=s(5893),t=s(1664);e.Z=function(){return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("nav",{children:(0,a.jsxs)("div",{className:"flex flex-col md:flex-row p-2 container mx-auto lg:max-w-screen-lg justify-between md:items-center",children:[(0,a.jsx)("div",{className:"mt-1",children:(0,a.jsx)(t.default,{href:"/",children:(0,a.jsx)("a",{className:" text-background font-bold text-4xl font-square-peg",children:"AleBlog"})})}),(0,a.jsxs)("div",{className:"mt-2 md:m-2 md:p-4 space-x-4 md:text-center",children:[(0,a.jsx)(t.default,{href:"/Projects",children:(0,a.jsx)("a",{className:"text-background font-bold hover:underline hover:text-blue-500 font-nunito",children:"Projects"})}),(0,a.jsx)(t.default,{href:"/About",children:(0,a.jsx)("a",{className:"text-background font-bold hover:underline hover:text-blue-500 font-nunito",children:"About"})})]})]})})})}},6499:function(n,e,s){"use strict";s.r(e),s.d(e,{meta:function(){return r}});var a=s(5893),t=s(1151),o=s(7267),c=(s(3125),s(7617)),r={title:"How to use Python for PID controller design",date:"2023-05-30",description:"When I was in the university, my control system classes was dictated \n    using MATLAB, MATLAB is a powerfull tool to design and test control systems. But...",keywords:"Machine Learning, Robotics, Electronics, Reinforcement Learning, \n    Blog, Portfolio, Alexis, Fraudita, Alexis Fraudita, Python, Pytorch"},l=function(n){var e=n.children;return(0,a.jsx)(o.Z,{meta:r,children:e})};function i(n){var e=Object.assign({p:"p",h2:"h2",strong:"strong",img:"img",ul:"ul",li:"li",a:"a",h3:"h3",div:"div",pre:"pre",code:"code",span:"span"},(0,t.ah)(),n.components);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(e.p,{children:"When I was in the university, my control system classes was dictated using MATLAB,\nMATLAB is a powerfull tool to design and test control systems. But, one of the\nthings that overwhelms me about Matlab, is that it is a very heavy program with\ndifferent types of packages for different uses and a large number of tools and\nI like a simple minimalist coding style stuff for create or design controllers."}),"\n",(0,a.jsx)(e.p,{children:"As I am familiar with Python, I became curious to utilize this language to design\na basic control system such as a PID controller, applying the theory I learned\nin university."}),"\n",(0,a.jsx)(e.p,{children:"So here is what I learned."}),"\n",(0,a.jsx)(e.h2,{children:"What is a PID controller?"}),"\n",(0,a.jsxs)(e.p,{children:['A PID controller is a "',(0,a.jsx)(e.strong,{children:"brain"}),'" for machines that helps them stay on track. It\ntakes in sensory input, compares it to a target, and adjusts as needed to\nachieve the desired outcome.']}),"\n",(0,a.jsx)(e.p,{children:"A basic diagram of a PID controller looks like this:"}),"\n",(0,a.jsx)(e.p,{children:(0,a.jsx)(e.img,{src:"/images/pid.drawio.svg",alt:"pid"})}),"\n",(0,a.jsx)(e.p,{children:'e(t) is known as the error signal, which is the difference between a desired\nprocess value or setpoint r(t) and a measured process variable y(t) from the\nsystem that we want to control called "plant". u(t) is the output of the PID\ncontroller known as the control signal that will attempts to minimize the error\ne(t) over time.'}),"\n",(0,a.jsxs)(e.p,{children:["The PID controller is made up of three distinct parts: ",(0,a.jsx)(e.strong,{children:"the proportional component"}),",\n",(0,a.jsx)(e.strong,{children:"the integral component"}),", and ",(0,a.jsx)(e.strong,{children:"the derivative component"}),"."]}),"\n",(0,a.jsxs)(e.p,{children:[(0,a.jsx)(e.strong,{children:"The proportional part"})," helps to maintain the desired output of the control\nsystem by working to reduce the difference between the desired output and the\nactual output of the system. For example, the cruise control that keeps you at\nthe right speed when you're driving on a flat road. If you start going too slow,\nthe proportional part tells the car to go a little faster so you get back to the\nright speed. If you start going too fast, it tells the car to go slower."]}),"\n",(0,a.jsxs)(e.p,{children:[(0,a.jsx)(e.strong,{children:"The integral part"}),", keeps track of how much the system has been off from the\ndesired output in the past and makes adjustments to help reduce that difference\nover time. It's like a person who remembers that they were too hot or too cold\nin a room yesterday and adjusts the thermostat today to make sure they're more\ncomfortable."]}),"\n",(0,a.jsxs)(e.p,{children:[(0,a.jsx)(e.strong,{children:"The derivative part"})," of a PID controller is like a watchdog that watches how\nthings are changing over time. It looks for how fast things are changing and\nmakes adjustments based on that. Imagine you're going downhill in your car and\nyou start going faster, the derivative part of a cruise control system would\nsense this change in speed and make adjustments to slow you down."]}),"\n",(0,a.jsx)(e.p,{children:"Mathematically, in time domain the PID controller looks like this:"}),"\n",(0,a.jsx)(c.BlockMath,{math:"u(t) = K_p e(t) + K_i \\int_{0}^{t} e(\\tau) d\\tau + K_d \\frac{d}{dt} e(t)"}),"\n",(0,a.jsx)(e.p,{children:"Where:"}),"\n",(0,a.jsxs)(e.ul,{children:["\n",(0,a.jsxs)(e.li,{children:["\n",(0,a.jsxs)(e.p,{children:[(0,a.jsx)(c.InlineMath,{math:"K_p"}),": represents how much the output of the controller\nchanges in response to a difference between the desired output and the actual\noutput of the system."]}),"\n"]}),"\n",(0,a.jsxs)(e.li,{children:["\n",(0,a.jsxs)(e.p,{children:[(0,a.jsx)(c.InlineMath,{math:"K_i"}),": represents how much the output of the controller\nchanges in response to the accumulated difference between the desired and actual\noutputs of the system over time."]}),"\n"]}),"\n",(0,a.jsxs)(e.li,{children:["\n",(0,a.jsxs)(e.p,{children:[(0,a.jsx)(c.InlineMath,{math:"K_d"}),": represents how much the output of the controller\nchanges in response to the rate of change of the difference between the desired\nand actual outputs of the system."]}),"\n"]}),"\n",(0,a.jsxs)(e.li,{children:["\n",(0,a.jsxs)(e.p,{children:[(0,a.jsx)(c.InlineMath,{math:"e(t)"}),": represents the error signal."]}),"\n"]}),"\n",(0,a.jsxs)(e.li,{children:["\n",(0,a.jsxs)(e.p,{children:[(0,a.jsx)(c.InlineMath,{math:"u(t)"}),": represents control signal."]}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(e.h2,{children:"Desiging the PID controller"}),"\n",(0,a.jsxs)(e.p,{children:["We will be using example 8-1 (found on page 572) from the book\n",(0,a.jsx)(e.a,{href:"https://www.amazon.com/Modern-Control-Engineering-Katsuhiko-Ogata/dp/0136156738",children:"'Modern Control Engineering'"}),"\nby Katushiko Ogata to create our PID controller.\nAdditionally, we will utilize the python-control library, as well as sympy and\nnumpy for mathematical operations, and Matplotlib for visualizing the\ncontroller's responses."]}),"\n",(0,a.jsx)(e.h3,{children:"Creating the Plant model"}),"\n",(0,a.jsx)(e.p,{children:"We need a system plant to control before creating our PID controller. To do\nthis, we can utilize the python-control package."}),"\n",(0,a.jsx)(c.BlockMath,{math:"\\frac{1}{s(s+1)(s+5)}"}),"\n",(0,a.jsx)(e.p,{children:"You might be curious as to why 's' is used instead of time in the Laplace domain.\nThe reason is that the Laplace domain enables analysis of transfer functions in\na simpler and more efficient manner for linear time-invariant systems (LTI)"}),"\n",(0,a.jsx)(e.p,{children:"So we create our model transfer function system like this."}),"\n",(0,a.jsx)(e.div,{className:"remark-highlight",children:(0,a.jsx)(e.pre,{className:"language-python",children:(0,a.jsxs)(e.code,{className:"language-python",children:[(0,a.jsx)(e.span,{className:"token keyword",children:"import"})," control\n\ns ",(0,a.jsx)(e.span,{className:"token operator",children:"="})," control",(0,a.jsx)(e.span,{className:"token punctuation",children:"."}),"TransferFunction",(0,a.jsx)(e.span,{className:"token punctuation",children:"."}),"s\n\nplant ",(0,a.jsx)(e.span,{className:"token operator",children:"="})," ",(0,a.jsx)(e.span,{className:"token number",children:"1"}),(0,a.jsx)(e.span,{className:"token operator",children:"/"}),(0,a.jsx)(e.span,{className:"token punctuation",children:"("}),"s",(0,a.jsx)(e.span,{className:"token operator",children:"*"}),(0,a.jsx)(e.span,{className:"token punctuation",children:"("}),"s",(0,a.jsx)(e.span,{className:"token operator",children:"+"}),(0,a.jsx)(e.span,{className:"token number",children:"1"}),(0,a.jsx)(e.span,{className:"token punctuation",children:")"}),(0,a.jsx)(e.span,{className:"token operator",children:"*"}),(0,a.jsx)(e.span,{className:"token punctuation",children:"("}),"s",(0,a.jsx)(e.span,{className:"token operator",children:"+"}),(0,a.jsx)(e.span,{className:"token number",children:"5"}),(0,a.jsx)(e.span,{className:"token punctuation",children:")"}),(0,a.jsx)(e.span,{className:"token punctuation",children:")"}),"\n\n"]})})}),"\n",(0,a.jsx)(e.h3,{children:"Creating the PID model"}),"\n",(0,a.jsx)(e.p,{children:"Let's create our PID in Laplace domain."}),"\n",(0,a.jsx)(c.BlockMath,{math:"G_{c}(s) = K_{p}(1 + \\frac{1}{T_{i}s} + T_{d}s)"}),"\n",(0,a.jsx)(e.p,{children:"Where:"}),"\n",(0,a.jsxs)(e.ul,{children:["\n",(0,a.jsxs)(e.li,{children:["\n",(0,a.jsxs)(e.p,{children:[(0,a.jsx)(c.InlineMath,{math:"K_{p}"}),": represents how much the output of the controller\nchanges in response to a difference between the desired output and the actual\noutput of the system."]}),"\n"]}),"\n",(0,a.jsxs)(e.li,{children:["\n",(0,a.jsxs)(e.p,{children:[(0,a.jsx)(c.InlineMath,{math:"T_{i}"}),": represents  the integral time."]}),"\n"]}),"\n",(0,a.jsxs)(e.li,{children:["\n",(0,a.jsxs)(e.p,{children:[(0,a.jsx)(c.InlineMath,{math:"T_{d}"}),": represents the derivative time."]}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(e.p,{children:["Our goal now is to adjust the values of ",(0,a.jsx)(c.InlineMath,{math:"K_{p}"}),", ",(0,a.jsx)(c.InlineMath,{math:"T_{i}"}),",\nand ",(0,a.jsx)(c.InlineMath,{math:"T_{d}"})," for optimal performance. We will utilize the\nZiegler-Nichols tuning rule to determine these values."]}),"\n",(0,a.jsxs)(e.p,{children:["Since our plant contains an integrator (",(0,a.jsx)(c.InlineMath,{math:"1/s"}),"), we\nwill utilize the second method of the Ziegler-Nichols tuning rule. This involves\nsetting ",(0,a.jsx)(c.InlineMath,{math:"Ti = \\infty"})," cancelling it's effect and ",(0,a.jsx)(c.InlineMath,{math:"Td = 0"})," in\norder to obtain the closed-loop transfer function."]}),"\n",(0,a.jsxs)(e.p,{children:["Having obtained the transfer function of our plant using python-control,\nwe can employ the feedback method to determine the closed-loop transfer function.\nTo calculate this, we will add an arbitrary value to ",(0,a.jsx)(c.InlineMath,{math:"K_{p}"}),",\nset ",(0,a.jsx)(c.InlineMath,{math:"T_{d}"})," to 0, and assign a large value to ",(0,a.jsx)(c.InlineMath,{math:"T_{i}"}),"."]}),"\n",(0,a.jsx)(e.div,{className:"remark-highlight",children:(0,a.jsx)(e.pre,{className:"language-python",children:(0,a.jsxs)(e.code,{className:"language-python",children:[(0,a.jsx)(e.span,{className:"token keyword",children:"import"})," control\n\ns ",(0,a.jsx)(e.span,{className:"token operator",children:"="})," control",(0,a.jsx)(e.span,{className:"token punctuation",children:"."}),"TransferFunction",(0,a.jsx)(e.span,{className:"token punctuation",children:"."}),"s\n\nplant ",(0,a.jsx)(e.span,{className:"token operator",children:"="})," ",(0,a.jsx)(e.span,{className:"token number",children:"1"}),(0,a.jsx)(e.span,{className:"token operator",children:"/"}),(0,a.jsx)(e.span,{className:"token punctuation",children:"("}),"s",(0,a.jsx)(e.span,{className:"token operator",children:"*"}),(0,a.jsx)(e.span,{className:"token punctuation",children:"("}),"s",(0,a.jsx)(e.span,{className:"token operator",children:"+"}),(0,a.jsx)(e.span,{className:"token number",children:"1"}),(0,a.jsx)(e.span,{className:"token punctuation",children:")"}),(0,a.jsx)(e.span,{className:"token operator",children:"*"}),(0,a.jsx)(e.span,{className:"token punctuation",children:"("}),"s",(0,a.jsx)(e.span,{className:"token operator",children:"+"}),(0,a.jsx)(e.span,{className:"token number",children:"5"}),(0,a.jsx)(e.span,{className:"token punctuation",children:")"}),(0,a.jsx)(e.span,{className:"token punctuation",children:")"}),"\n\nKp ",(0,a.jsx)(e.span,{className:"token operator",children:"="})," ",(0,a.jsx)(e.span,{className:"token number",children:"17"}),"\nTi ",(0,a.jsx)(e.span,{className:"token operator",children:"="})," ",(0,a.jsx)(e.span,{className:"token number",children:"10000000000"}),"\nTd ",(0,a.jsx)(e.span,{className:"token operator",children:"="})," ",(0,a.jsx)(e.span,{className:"token number",children:"0"}),"\npid ",(0,a.jsx)(e.span,{className:"token operator",children:"="})," Kp",(0,a.jsx)(e.span,{className:"token operator",children:"*"}),(0,a.jsx)(e.span,{className:"token punctuation",children:"("}),(0,a.jsx)(e.span,{className:"token number",children:"1"})," ",(0,a.jsx)(e.span,{className:"token operator",children:"+"})," ",(0,a.jsx)(e.span,{className:"token number",children:"1"}),(0,a.jsx)(e.span,{className:"token operator",children:"/"}),"Ti",(0,a.jsx)(e.span,{className:"token operator",children:"*"}),"s ",(0,a.jsx)(e.span,{className:"token operator",children:"+"})," Td",(0,a.jsx)(e.span,{className:"token operator",children:"*"}),"s",(0,a.jsx)(e.span,{className:"token punctuation",children:")"}),"\n\nfeedback ",(0,a.jsx)(e.span,{className:"token operator",children:"="})," control",(0,a.jsx)(e.span,{className:"token punctuation",children:"."}),"feedback",(0,a.jsx)(e.span,{className:"token punctuation",children:"("}),"plant",(0,a.jsx)(e.span,{className:"token operator",children:"*"}),"pid",(0,a.jsx)(e.span,{className:"token punctuation",children:")"})," \n",(0,a.jsx)(e.span,{className:"token keyword",children:"print"}),(0,a.jsx)(e.span,{className:"token punctuation",children:"("}),"feedback",(0,a.jsx)(e.span,{className:"token punctuation",children:")"}),"\n\n",(0,a.jsx)(e.span,{className:"token comment",children:"#result"}),"\n",(0,a.jsx)(e.span,{className:"token comment",children:"#    1.7e-08 s + 17"}),"\n",(0,a.jsx)(e.span,{className:"token comment",children:"#----------------------"}),"\n",(0,a.jsx)(e.span,{className:"token comment",children:"#s^3 + 6 s^2 + 5 s + 17"}),"\n"]})})}),"\n",(0,a.jsxs)(e.p,{children:["If you look at the numerator, you will notice it has a term of\n",(0,a.jsx)(c.InlineMath,{math:"1.7e-08s + 17"}),". The value 17 corresponds to our parameter\n",(0,a.jsx)(c.InlineMath,{math:"K_{p}"}),", while the value ",(0,a.jsx)(c.InlineMath,{math:"1.7e-08s"})," is\npractically negligible. As a result, we can consider our closed-loop transfer\nfunction to be:"]}),"\n",(0,a.jsx)(c.BlockMath,{math:"\\frac{Y(s)}{R(s)} = \\frac{K_{p}}{s^{3} + 6s^{2} + 5s + K_{p}}"}),"\n",(0,a.jsxs)(e.p,{children:["Where ",(0,a.jsx)(c.InlineMath,{math:"s^{3} + 6s^{2} + 5s + K_{p} = 0"})," will be our charateristic\nequation."]}),"\n",(0,a.jsxs)(e.p,{children:["Our next step involves determining a value for ",(0,a.jsx)(c.InlineMath,{math:"K_{p}"})," that\nwill render the plant marginally stable, thereby promoting sustained oscillation.\nThis can be achieved using ",(0,a.jsx)(e.strong,{children:"Routh's stability criterion"}),". In Python, we can\nleverage the method outlined in the ",(0,a.jsx)(e.a,{href:"https://github.com/alchemyst/Dynamics-and-Control/blob/master/tbcontrol/symbolic.py",children:"tbcontrol library"}),"\nto accomplish this."]}),"\n",(0,a.jsx)(e.div,{className:"remark-highlight",children:(0,a.jsx)(e.pre,{className:"language-python",children:(0,a.jsxs)(e.code,{className:"language-python",children:[(0,a.jsx)(e.span,{className:"token keyword",children:"def"})," ",(0,a.jsx)(e.span,{className:"token function",children:"routh"}),(0,a.jsx)(e.span,{className:"token punctuation",children:"("}),"p",(0,a.jsx)(e.span,{className:"token punctuation",children:")"}),(0,a.jsx)(e.span,{className:"token punctuation",children:":"}),"\n    coefficients ",(0,a.jsx)(e.span,{className:"token operator",children:"="})," p",(0,a.jsx)(e.span,{className:"token punctuation",children:"."}),"all_coeffs",(0,a.jsx)(e.span,{className:"token punctuation",children:"("}),(0,a.jsx)(e.span,{className:"token punctuation",children:")"}),"\n    N ",(0,a.jsx)(e.span,{className:"token operator",children:"="})," ",(0,a.jsx)(e.span,{className:"token builtin",children:"len"}),(0,a.jsx)(e.span,{className:"token punctuation",children:"("}),"coefficients",(0,a.jsx)(e.span,{className:"token punctuation",children:")"}),"\n    M ",(0,a.jsx)(e.span,{className:"token operator",children:"="})," sympy",(0,a.jsx)(e.span,{className:"token punctuation",children:"."}),"zeros",(0,a.jsx)(e.span,{className:"token punctuation",children:"("}),"N",(0,a.jsx)(e.span,{className:"token punctuation",children:","})," ",(0,a.jsx)(e.span,{className:"token punctuation",children:"("}),"N",(0,a.jsx)(e.span,{className:"token operator",children:"+"}),(0,a.jsx)(e.span,{className:"token number",children:"1"}),(0,a.jsx)(e.span,{className:"token punctuation",children:")"}),(0,a.jsx)(e.span,{className:"token operator",children:"//"}),(0,a.jsx)(e.span,{className:"token number",children:"2"})," ",(0,a.jsx)(e.span,{className:"token operator",children:"+"})," ",(0,a.jsx)(e.span,{className:"token number",children:"1"}),(0,a.jsx)(e.span,{className:"token punctuation",children:")"}),"\n\n    r1 ",(0,a.jsx)(e.span,{className:"token operator",children:"="})," coefficients",(0,a.jsx)(e.span,{className:"token punctuation",children:"["}),(0,a.jsx)(e.span,{className:"token number",children:"0"}),(0,a.jsx)(e.span,{className:"token punctuation",children:":"}),(0,a.jsx)(e.span,{className:"token punctuation",children:":"}),(0,a.jsx)(e.span,{className:"token number",children:"2"}),(0,a.jsx)(e.span,{className:"token punctuation",children:"]"}),"\n    r2 ",(0,a.jsx)(e.span,{className:"token operator",children:"="})," coefficients",(0,a.jsx)(e.span,{className:"token punctuation",children:"["}),(0,a.jsx)(e.span,{className:"token number",children:"1"}),(0,a.jsx)(e.span,{className:"token punctuation",children:":"}),(0,a.jsx)(e.span,{className:"token punctuation",children:":"}),(0,a.jsx)(e.span,{className:"token number",children:"2"}),(0,a.jsx)(e.span,{className:"token punctuation",children:"]"}),"\n    M",(0,a.jsx)(e.span,{className:"token punctuation",children:"["}),(0,a.jsx)(e.span,{className:"token number",children:"0"}),(0,a.jsx)(e.span,{className:"token punctuation",children:","})," ",(0,a.jsx)(e.span,{className:"token punctuation",children:":"}),(0,a.jsx)(e.span,{className:"token builtin",children:"len"}),(0,a.jsx)(e.span,{className:"token punctuation",children:"("}),"r1",(0,a.jsx)(e.span,{className:"token punctuation",children:")"}),(0,a.jsx)(e.span,{className:"token punctuation",children:"]"})," ",(0,a.jsx)(e.span,{className:"token operator",children:"="})," ",(0,a.jsx)(e.span,{className:"token punctuation",children:"["}),"r1",(0,a.jsx)(e.span,{className:"token punctuation",children:"]"}),"\n    M",(0,a.jsx)(e.span,{className:"token punctuation",children:"["}),(0,a.jsx)(e.span,{className:"token number",children:"1"}),(0,a.jsx)(e.span,{className:"token punctuation",children:","})," ",(0,a.jsx)(e.span,{className:"token punctuation",children:":"}),(0,a.jsx)(e.span,{className:"token builtin",children:"len"}),(0,a.jsx)(e.span,{className:"token punctuation",children:"("}),"r2",(0,a.jsx)(e.span,{className:"token punctuation",children:")"}),(0,a.jsx)(e.span,{className:"token punctuation",children:"]"})," ",(0,a.jsx)(e.span,{className:"token operator",children:"="})," ",(0,a.jsx)(e.span,{className:"token punctuation",children:"["}),"r2",(0,a.jsx)(e.span,{className:"token punctuation",children:"]"}),"\n    ",(0,a.jsx)(e.span,{className:"token keyword",children:"for"})," i ",(0,a.jsx)(e.span,{className:"token keyword",children:"in"})," ",(0,a.jsx)(e.span,{className:"token builtin",children:"range"}),(0,a.jsx)(e.span,{className:"token punctuation",children:"("}),(0,a.jsx)(e.span,{className:"token number",children:"2"}),(0,a.jsx)(e.span,{className:"token punctuation",children:","})," N",(0,a.jsx)(e.span,{className:"token punctuation",children:")"}),(0,a.jsx)(e.span,{className:"token punctuation",children:":"}),"\n        ",(0,a.jsx)(e.span,{className:"token keyword",children:"for"})," j ",(0,a.jsx)(e.span,{className:"token keyword",children:"in"})," ",(0,a.jsx)(e.span,{className:"token builtin",children:"range"}),(0,a.jsx)(e.span,{className:"token punctuation",children:"("}),"N",(0,a.jsx)(e.span,{className:"token operator",children:"//"}),(0,a.jsx)(e.span,{className:"token number",children:"2"}),(0,a.jsx)(e.span,{className:"token punctuation",children:")"}),(0,a.jsx)(e.span,{className:"token punctuation",children:":"}),"\n            S ",(0,a.jsx)(e.span,{className:"token operator",children:"="})," M",(0,a.jsx)(e.span,{className:"token punctuation",children:"["}),(0,a.jsx)(e.span,{className:"token punctuation",children:"["}),"i",(0,a.jsx)(e.span,{className:"token operator",children:"-"}),(0,a.jsx)(e.span,{className:"token number",children:"2"}),(0,a.jsx)(e.span,{className:"token punctuation",children:","})," i",(0,a.jsx)(e.span,{className:"token operator",children:"-"}),(0,a.jsx)(e.span,{className:"token number",children:"1"}),(0,a.jsx)(e.span,{className:"token punctuation",children:"]"}),(0,a.jsx)(e.span,{className:"token punctuation",children:","})," ",(0,a.jsx)(e.span,{className:"token punctuation",children:"["}),(0,a.jsx)(e.span,{className:"token number",children:"0"}),(0,a.jsx)(e.span,{className:"token punctuation",children:","})," j",(0,a.jsx)(e.span,{className:"token operator",children:"+"}),(0,a.jsx)(e.span,{className:"token number",children:"1"}),(0,a.jsx)(e.span,{className:"token punctuation",children:"]"}),(0,a.jsx)(e.span,{className:"token punctuation",children:"]"}),"\n            M",(0,a.jsx)(e.span,{className:"token punctuation",children:"["}),"i",(0,a.jsx)(e.span,{className:"token punctuation",children:","})," j",(0,a.jsx)(e.span,{className:"token punctuation",children:"]"})," ",(0,a.jsx)(e.span,{className:"token operator",children:"="})," sympy",(0,a.jsx)(e.span,{className:"token punctuation",children:"."}),"simplify",(0,a.jsx)(e.span,{className:"token punctuation",children:"("}),(0,a.jsx)(e.span,{className:"token operator",children:"-"}),"S",(0,a.jsx)(e.span,{className:"token punctuation",children:"."}),"det",(0,a.jsx)(e.span,{className:"token punctuation",children:"("}),(0,a.jsx)(e.span,{className:"token punctuation",children:")"}),(0,a.jsx)(e.span,{className:"token operator",children:"/"}),"M",(0,a.jsx)(e.span,{className:"token punctuation",children:"["}),"i",(0,a.jsx)(e.span,{className:"token operator",children:"-"}),(0,a.jsx)(e.span,{className:"token number",children:"1"}),(0,a.jsx)(e.span,{className:"token punctuation",children:","}),(0,a.jsx)(e.span,{className:"token number",children:"0"}),(0,a.jsx)(e.span,{className:"token punctuation",children:"]"}),(0,a.jsx)(e.span,{className:"token punctuation",children:")"}),"\n    ",(0,a.jsx)(e.span,{className:"token keyword",children:"return"})," M",(0,a.jsx)(e.span,{className:"token punctuation",children:"["}),(0,a.jsx)(e.span,{className:"token punctuation",children:":"}),(0,a.jsx)(e.span,{className:"token punctuation",children:","})," ",(0,a.jsx)(e.span,{className:"token punctuation",children:":"}),(0,a.jsx)(e.span,{className:"token operator",children:"-"}),(0,a.jsx)(e.span,{className:"token number",children:"1"}),(0,a.jsx)(e.span,{className:"token punctuation",children:"]"}),"\n"]})})}),"\n",(0,a.jsx)(e.p,{children:"Then we can implement it like this:"}),"\n",(0,a.jsx)(e.div,{className:"remark-highlight",children:(0,a.jsx)(e.pre,{className:"language-python",children:(0,a.jsxs)(e.code,{className:"language-python",children:[(0,a.jsx)(e.span,{className:"token keyword",children:"import"})," sympy\n\nKp ",(0,a.jsx)(e.span,{className:"token operator",children:"="})," sympy",(0,a.jsx)(e.span,{className:"token punctuation",children:"."}),"Symbol",(0,a.jsx)(e.span,{className:"token punctuation",children:"("}),(0,a.jsx)(e.span,{className:"token string",children:"'Kp'"}),(0,a.jsx)(e.span,{className:"token punctuation",children:")"}),"\ns ",(0,a.jsx)(e.span,{className:"token operator",children:"="})," sympy",(0,a.jsx)(e.span,{className:"token punctuation",children:"."}),"Symbol",(0,a.jsx)(e.span,{className:"token punctuation",children:"("}),(0,a.jsx)(e.span,{className:"token string",children:"'s'"}),(0,a.jsx)(e.span,{className:"token punctuation",children:")"}),"\n\nce ",(0,a.jsx)(e.span,{className:"token operator",children:"="})," s",(0,a.jsx)(e.span,{className:"token operator",children:"**"}),(0,a.jsx)(e.span,{className:"token number",children:"3"})," ",(0,a.jsx)(e.span,{className:"token operator",children:"+"})," ",(0,a.jsx)(e.span,{className:"token number",children:"6"}),(0,a.jsx)(e.span,{className:"token operator",children:"*"}),"s",(0,a.jsx)(e.span,{className:"token operator",children:"**"}),(0,a.jsx)(e.span,{className:"token number",children:"2"})," ",(0,a.jsx)(e.span,{className:"token operator",children:"+"})," ",(0,a.jsx)(e.span,{className:"token number",children:"5"}),(0,a.jsx)(e.span,{className:"token operator",children:"*"}),"s ",(0,a.jsx)(e.span,{className:"token operator",children:"+"})," Kp ",(0,a.jsx)(e.span,{className:"token comment",children:"#charateristic equation"}),"\n\nA ",(0,a.jsx)(e.span,{className:"token operator",children:"="})," routh",(0,a.jsx)(e.span,{className:"token punctuation",children:"("}),"sympy",(0,a.jsx)(e.span,{className:"token punctuation",children:"."}),"Poly",(0,a.jsx)(e.span,{className:"token punctuation",children:"("}),"ce",(0,a.jsx)(e.span,{className:"token punctuation",children:","}),"s",(0,a.jsx)(e.span,{className:"token punctuation",children:")"}),(0,a.jsx)(e.span,{className:"token punctuation",children:")"}),"\nA\n"]})})}),"\n",(0,a.jsx)(e.p,{children:"It will give us."}),"\n",(0,a.jsx)(c.BlockMath,{math:"\\begin{bmatrix}\n1 & 5\\\\\n6 & K_{p}\\\\\n5-\\frac{K_{p}}{6} & 0\\\\\nK_{p} & 0\n\\end{bmatrix}"}),"\n",(0,a.jsx)(e.p,{children:"To check the stability limits we can use sympy like this."}),"\n",(0,a.jsx)(e.div,{className:"remark-highlight",children:(0,a.jsx)(e.pre,{className:"language-python",children:(0,a.jsxs)(e.code,{className:"language-python",children:["sympy",(0,a.jsx)(e.span,{className:"token punctuation",children:"."}),"solve",(0,a.jsx)(e.span,{className:"token punctuation",children:"("}),(0,a.jsx)(e.span,{className:"token punctuation",children:"["}),"e ",(0,a.jsx)(e.span,{className:"token operator",children:">"})," ",(0,a.jsx)(e.span,{className:"token number",children:"0"})," ",(0,a.jsx)(e.span,{className:"token keyword",children:"for"})," e ",(0,a.jsx)(e.span,{className:"token keyword",children:"in"})," A",(0,a.jsx)(e.span,{className:"token punctuation",children:"["}),(0,a.jsx)(e.span,{className:"token punctuation",children:":"}),(0,a.jsx)(e.span,{className:"token punctuation",children:","}),(0,a.jsx)(e.span,{className:"token number",children:"0"}),(0,a.jsx)(e.span,{className:"token punctuation",children:"]"}),(0,a.jsx)(e.span,{className:"token punctuation",children:"]"}),(0,a.jsx)(e.span,{className:"token punctuation",children:","})," Kp",(0,a.jsx)(e.span,{className:"token punctuation",children:")"}),"\n"]})})}),"\n",(0,a.jsx)(e.p,{children:"Resulting"}),"\n",(0,a.jsx)(c.BlockMath,{math:"0< K_{p} \\wedge K_{p}<30"}),"\n",(0,a.jsxs)(e.p,{children:["We have determined that the critical ",(0,a.jsx)(c.InlineMath,{math:"K_{p}"})," value is 30, which\nrepresents the threshold for ",(0,a.jsx)(e.strong,{children:"sustaining oscillation"}),". Accordingly, the\ncritical gain can be expressed as ",(0,a.jsx)(c.InlineMath,{math:"K_{cr} = 30"}),". With this\nvalue in place, the characteristic equation takes on the following form:"]}),"\n",(0,a.jsx)(c.BlockMath,{math:"s^{3} + 6s^{2} + 5s + 30 = 0"}),"\n",(0,a.jsxs)(e.p,{children:["To find the frequency of the sustained oscillation, we replace ",(0,a.jsx)(c.InlineMath,{math:"s=jw"}),"\ngetting."]}),"\n",(0,a.jsx)(c.BlockMath,{math:"(j\\omega)^{3} + 6(j\\omega)^{2} + 5(j\\omega) + 30 = 0"}),"\n",(0,a.jsx)(e.p,{children:"or"}),"\n",(0,a.jsx)(c.BlockMath,{math:"6(5-\\omega^{2}) + j\\omega(5-\\omega^{2}) = 0"}),"\n",(0,a.jsx)(e.p,{children:"where the frequency of the sustained oscillation will be"}),"\n",(0,a.jsx)(c.InlineMath,{math:"\\omega^{2} = 5 => \\omega = \\sqrt{5}"}),"\n",(0,a.jsx)(e.p,{children:"We can also solve this directly using sympy like this."}),"\n",(0,a.jsx)(e.div,{className:"remark-highlight",children:(0,a.jsx)(e.pre,{className:"language-python",children:(0,a.jsxs)(e.code,{className:"language-python",children:["s ",(0,a.jsx)(e.span,{className:"token operator",children:"="})," sympy",(0,a.jsx)(e.span,{className:"token punctuation",children:"."}),"Symbol",(0,a.jsx)(e.span,{className:"token punctuation",children:"("}),(0,a.jsx)(e.span,{className:"token string",children:"'s'"}),(0,a.jsx)(e.span,{className:"token punctuation",children:")"}),"\nce ",(0,a.jsx)(e.span,{className:"token operator",children:"="})," s",(0,a.jsx)(e.span,{className:"token operator",children:"**"}),(0,a.jsx)(e.span,{className:"token number",children:"3"})," ",(0,a.jsx)(e.span,{className:"token operator",children:"+"})," ",(0,a.jsx)(e.span,{className:"token number",children:"6"}),(0,a.jsx)(e.span,{className:"token operator",children:"*"}),"s",(0,a.jsx)(e.span,{className:"token operator",children:"**"}),(0,a.jsx)(e.span,{className:"token number",children:"2"})," ",(0,a.jsx)(e.span,{className:"token operator",children:"+"})," ",(0,a.jsx)(e.span,{className:"token number",children:"5"}),(0,a.jsx)(e.span,{className:"token operator",children:"*"}),"s ",(0,a.jsx)(e.span,{className:"token operator",children:"+"})," ",(0,a.jsx)(e.span,{className:"token number",children:"30"}),"\n\nroots ",(0,a.jsx)(e.span,{className:"token operator",children:"="})," sympy",(0,a.jsx)(e.span,{className:"token punctuation",children:"."}),"solve",(0,a.jsx)(e.span,{className:"token punctuation",children:"("}),"ce",(0,a.jsx)(e.span,{className:"token punctuation",children:","}),"s",(0,a.jsx)(e.span,{className:"token punctuation",children:")"}),"\nroots\n"]})})}),"\n",(0,a.jsx)(c.BlockMath,{math:"[-6, -\\sqrt{5}i, \\sqrt{5}i]"}),"\n",(0,a.jsxs)(e.p,{children:["Finally, using the ",(0,a.jsx)(e.a,{href:"https://en.wikipedia.org/wiki/Ziegler%E2%80%93Nichols_method",children:"Ziegler\u2013Nichols Rule"}),",\nwe determine the values of ",(0,a.jsx)(c.InlineMath,{math:"K_{p}, T_{i}, T_{d}"})]}),"\n",(0,a.jsx)(c.BlockMath,{math:"\\begin{gather*} \nK_{p} = 0.6K_{cr} \\\\ \nT_{i} = 0.5P_{cr} \\\\\nT_{d} = 0.125P_{cr}\n\\end{gather*}"}),"\n",(0,a.jsxs)(e.p,{children:["Where ",(0,a.jsx)(c.InlineMath,{math:"P_{cr} = \\frac{2\\pi}{\\omega}"})]}),"\n",(0,a.jsx)(e.div,{className:"remark-highlight",children:(0,a.jsx)(e.pre,{className:"language-python",children:(0,a.jsxs)(e.code,{className:"language-python",children:[(0,a.jsx)(e.span,{className:"token keyword",children:"import"})," numpy ",(0,a.jsx)(e.span,{className:"token keyword",children:"as"})," np\n\nw ",(0,a.jsx)(e.span,{className:"token operator",children:"="})," np",(0,a.jsx)(e.span,{className:"token punctuation",children:"."}),"sqrt",(0,a.jsx)(e.span,{className:"token punctuation",children:"("}),(0,a.jsx)(e.span,{className:"token number",children:"5"}),(0,a.jsx)(e.span,{className:"token punctuation",children:")"}),"\nPcr ",(0,a.jsx)(e.span,{className:"token operator",children:"="})," ",(0,a.jsx)(e.span,{className:"token punctuation",children:"("}),(0,a.jsx)(e.span,{className:"token number",children:"2"}),(0,a.jsx)(e.span,{className:"token operator",children:"*"}),"np",(0,a.jsx)(e.span,{className:"token punctuation",children:"."}),"pi",(0,a.jsx)(e.span,{className:"token punctuation",children:")"}),(0,a.jsx)(e.span,{className:"token operator",children:"/"}),"w\nKcr ",(0,a.jsx)(e.span,{className:"token operator",children:"="})," ",(0,a.jsx)(e.span,{className:"token number",children:"30"}),"\n\nKp ",(0,a.jsx)(e.span,{className:"token operator",children:"="})," ",(0,a.jsx)(e.span,{className:"token number",children:"0.6"}),(0,a.jsx)(e.span,{className:"token operator",children:"*"}),"Kcr\nTi ",(0,a.jsx)(e.span,{className:"token operator",children:"="})," ",(0,a.jsx)(e.span,{className:"token number",children:"0.5"}),(0,a.jsx)(e.span,{className:"token operator",children:"*"}),"Pcr\nTd ",(0,a.jsx)(e.span,{className:"token operator",children:"="})," ",(0,a.jsx)(e.span,{className:"token number",children:"0.125"}),(0,a.jsx)(e.span,{className:"token operator",children:"*"}),"Pcr\n\n",(0,a.jsx)(e.span,{className:"token keyword",children:"print"}),(0,a.jsx)(e.span,{className:"token punctuation",children:"("}),(0,a.jsx)(e.span,{className:"token string",children:'"Kp:"'}),(0,a.jsx)(e.span,{className:"token punctuation",children:","})," Kp",(0,a.jsx)(e.span,{className:"token punctuation",children:")"}),"\n",(0,a.jsx)(e.span,{className:"token keyword",children:"print"}),(0,a.jsx)(e.span,{className:"token punctuation",children:"("}),(0,a.jsx)(e.span,{className:"token string",children:'"Ti:"'}),(0,a.jsx)(e.span,{className:"token punctuation",children:","})," Ti",(0,a.jsx)(e.span,{className:"token punctuation",children:")"}),"\n",(0,a.jsx)(e.span,{className:"token keyword",children:"print"}),(0,a.jsx)(e.span,{className:"token punctuation",children:"("}),(0,a.jsx)(e.span,{className:"token string",children:'"Td:"'}),(0,a.jsx)(e.span,{className:"token punctuation",children:","})," Td",(0,a.jsx)(e.span,{className:"token punctuation",children:")"}),"\n\n",(0,a.jsx)(e.span,{className:"token comment",children:"#result"}),"\n",(0,a.jsx)(e.span,{className:"token comment",children:"#Kp: 18.0"}),"\n",(0,a.jsx)(e.span,{className:"token comment",children:"#Ti: 1.40496..."}),"\n",(0,a.jsx)(e.span,{className:"token comment",children:"#Td: 0.3512..."}),"\n"]})})}),"\n",(0,a.jsx)(e.h2,{children:"Testing the PID"}),"\n",(0,a.jsxs)(e.p,{children:["Now that we've tuned our PID controller, the next step is to evaluate the\n",(0,a.jsx)(e.strong,{children:"system's behavior"}),". One way to accomplish this is by plotting the step response\nusing the python-control library. This can be achieved as follows:"]}),"\n",(0,a.jsx)(e.div,{className:"remark-highlight",children:(0,a.jsx)(e.pre,{className:"language-python",children:(0,a.jsxs)(e.code,{className:"language-python",children:["s ",(0,a.jsx)(e.span,{className:"token operator",children:"="})," control",(0,a.jsx)(e.span,{className:"token punctuation",children:"."}),"TransferFunction",(0,a.jsx)(e.span,{className:"token punctuation",children:"."}),"s\n\nplant ",(0,a.jsx)(e.span,{className:"token operator",children:"="})," ",(0,a.jsx)(e.span,{className:"token punctuation",children:"("}),(0,a.jsx)(e.span,{className:"token number",children:"1"}),(0,a.jsx)(e.span,{className:"token operator",children:"/"}),(0,a.jsx)(e.span,{className:"token punctuation",children:"("}),"s",(0,a.jsx)(e.span,{className:"token operator",children:"*"}),(0,a.jsx)(e.span,{className:"token punctuation",children:"("}),"s",(0,a.jsx)(e.span,{className:"token operator",children:"+"}),(0,a.jsx)(e.span,{className:"token number",children:"1"}),(0,a.jsx)(e.span,{className:"token punctuation",children:")"}),(0,a.jsx)(e.span,{className:"token operator",children:"*"}),(0,a.jsx)(e.span,{className:"token punctuation",children:"("}),"s",(0,a.jsx)(e.span,{className:"token operator",children:"+"}),(0,a.jsx)(e.span,{className:"token number",children:"5"}),(0,a.jsx)(e.span,{className:"token punctuation",children:")"}),(0,a.jsx)(e.span,{className:"token punctuation",children:")"}),(0,a.jsx)(e.span,{className:"token punctuation",children:")"}),"\n\nKp ",(0,a.jsx)(e.span,{className:"token operator",children:"="})," ",(0,a.jsx)(e.span,{className:"token number",children:"18"}),"\nTi ",(0,a.jsx)(e.span,{className:"token operator",children:"="})," ",(0,a.jsx)(e.span,{className:"token number",children:"1.405"}),"\nTd ",(0,a.jsx)(e.span,{className:"token operator",children:"="})," ",(0,a.jsx)(e.span,{className:"token number",children:"0.351"}),"\npid ",(0,a.jsx)(e.span,{className:"token operator",children:"="})," ",(0,a.jsx)(e.span,{className:"token punctuation",children:"("}),"Kp",(0,a.jsx)(e.span,{className:"token operator",children:"*"}),(0,a.jsx)(e.span,{className:"token punctuation",children:"("}),(0,a.jsx)(e.span,{className:"token number",children:"1"})," ",(0,a.jsx)(e.span,{className:"token operator",children:"+"})," ",(0,a.jsx)(e.span,{className:"token number",children:"1"}),(0,a.jsx)(e.span,{className:"token operator",children:"/"}),(0,a.jsx)(e.span,{className:"token punctuation",children:"("}),"Ti",(0,a.jsx)(e.span,{className:"token operator",children:"*"}),"s",(0,a.jsx)(e.span,{className:"token punctuation",children:")"})," ",(0,a.jsx)(e.span,{className:"token operator",children:"+"})," Td",(0,a.jsx)(e.span,{className:"token operator",children:"*"}),"s",(0,a.jsx)(e.span,{className:"token punctuation",children:")"}),(0,a.jsx)(e.span,{className:"token punctuation",children:")"}),"\n\nfeedback ",(0,a.jsx)(e.span,{className:"token operator",children:"="})," control",(0,a.jsx)(e.span,{className:"token punctuation",children:"."}),"feedback",(0,a.jsx)(e.span,{className:"token punctuation",children:"("}),"system",(0,a.jsx)(e.span,{className:"token operator",children:"*"}),"pid",(0,a.jsx)(e.span,{className:"token punctuation",children:")"}),"\n",(0,a.jsx)(e.span,{className:"token keyword",children:"print"}),(0,a.jsx)(e.span,{className:"token punctuation",children:"("}),"feedback",(0,a.jsx)(e.span,{className:"token punctuation",children:")"}),"\n\n",(0,a.jsx)(e.span,{className:"token comment",children:"#result"}),"\n",(0,a.jsx)(e.span,{className:"token comment",children:"#           8.877 s^2 + 25.29 s + 18"}),"\n",(0,a.jsx)(e.span,{className:"token comment",children:"#----------------------------------------------"}),"\n",(0,a.jsx)(e.span,{className:"token comment",children:"#1.405 s^4 + 8.43 s^3 + 15.9 s^2 + 25.29 s + 18"}),"\n\nt ",(0,a.jsx)(e.span,{className:"token operator",children:"="})," np",(0,a.jsx)(e.span,{className:"token punctuation",children:"."}),"linspace",(0,a.jsx)(e.span,{className:"token punctuation",children:"("}),(0,a.jsx)(e.span,{className:"token number",children:"0"}),(0,a.jsx)(e.span,{className:"token punctuation",children:","}),(0,a.jsx)(e.span,{className:"token number",children:"17"}),(0,a.jsx)(e.span,{className:"token punctuation",children:")"}),"\nT",(0,a.jsx)(e.span,{className:"token punctuation",children:","})," y ",(0,a.jsx)(e.span,{className:"token operator",children:"="})," control",(0,a.jsx)(e.span,{className:"token punctuation",children:"."}),"step_response",(0,a.jsx)(e.span,{className:"token punctuation",children:"("}),"feedback",(0,a.jsx)(e.span,{className:"token punctuation",children:","})," t",(0,a.jsx)(e.span,{className:"token punctuation",children:")"}),"\n\n",(0,a.jsx)(e.span,{className:"token comment",children:"# plot"}),"\nplt",(0,a.jsx)(e.span,{className:"token punctuation",children:"."}),"plot",(0,a.jsx)(e.span,{className:"token punctuation",children:"("}),"T",(0,a.jsx)(e.span,{className:"token punctuation",children:","})," y",(0,a.jsx)(e.span,{className:"token punctuation",children:")"}),"\nplt",(0,a.jsx)(e.span,{className:"token punctuation",children:"."}),"xlabel",(0,a.jsx)(e.span,{className:"token punctuation",children:"("}),(0,a.jsx)(e.span,{className:"token string",children:"'Time (seconds)'"}),(0,a.jsx)(e.span,{className:"token punctuation",children:")"}),"\nplt",(0,a.jsx)(e.span,{className:"token punctuation",children:"."}),"ylabel",(0,a.jsx)(e.span,{className:"token punctuation",children:"("}),(0,a.jsx)(e.span,{className:"token string",children:"'Output'"}),(0,a.jsx)(e.span,{className:"token punctuation",children:")"}),"\nplt",(0,a.jsx)(e.span,{className:"token punctuation",children:"."}),"title",(0,a.jsx)(e.span,{className:"token punctuation",children:"("}),(0,a.jsx)(e.span,{className:"token string",children:"'Step Response'"}),(0,a.jsx)(e.span,{className:"token punctuation",children:")"}),"\nplt",(0,a.jsx)(e.span,{className:"token punctuation",children:"."}),"grid",(0,a.jsx)(e.span,{className:"token punctuation",children:"("}),(0,a.jsx)(e.span,{className:"token punctuation",children:")"}),"\nplt",(0,a.jsx)(e.span,{className:"token punctuation",children:"."}),"show",(0,a.jsx)(e.span,{className:"token punctuation",children:"("}),(0,a.jsx)(e.span,{className:"token punctuation",children:")"}),"\n"]})})}),"\n",(0,a.jsx)(e.p,{children:(0,a.jsx)(e.img,{src:"/images/pidplot.png",alt:"pidplot"})}),"\n",(0,a.jsxs)(e.p,{children:["You can also get specific information using the ",(0,a.jsx)(e.strong,{children:"step_info"})," method of python-control\nlike the overshoot or RiseTime. etc."]}),"\n",(0,a.jsx)(e.div,{className:"remark-highlight",children:(0,a.jsx)(e.pre,{className:"language-python",children:(0,a.jsxs)(e.code,{className:"language-python",children:["info ",(0,a.jsx)(e.span,{className:"token operator",children:"="})," control",(0,a.jsx)(e.span,{className:"token punctuation",children:"."}),"step_info",(0,a.jsx)(e.span,{className:"token punctuation",children:"("}),"feedback",(0,a.jsx)(e.span,{className:"token punctuation",children:")"}),"\n",(0,a.jsx)(e.span,{className:"token keyword",children:"print"}),(0,a.jsx)(e.span,{className:"token punctuation",children:"("}),(0,a.jsx)(e.span,{className:"token string",children:'"feedback info"'}),(0,a.jsx)(e.span,{className:"token punctuation",children:")"}),"\n",(0,a.jsx)(e.span,{className:"token keyword",children:"print"}),(0,a.jsx)(e.span,{className:"token punctuation",children:"("}),(0,a.jsx)(e.span,{className:"token string",children:'"-------------"'}),(0,a.jsx)(e.span,{className:"token punctuation",children:")"}),"\n",(0,a.jsx)(e.span,{className:"token keyword",children:"print"}),(0,a.jsx)(e.span,{className:"token punctuation",children:"("}),(0,a.jsx)(e.span,{className:"token string",children:'"RiseTime:"'}),(0,a.jsx)(e.span,{className:"token punctuation",children:","}),"info",(0,a.jsx)(e.span,{className:"token punctuation",children:"["}),(0,a.jsx)(e.span,{className:"token string",children:'"RiseTime"'}),(0,a.jsx)(e.span,{className:"token punctuation",children:"]"}),(0,a.jsx)(e.span,{className:"token punctuation",children:")"}),"\n",(0,a.jsx)(e.span,{className:"token keyword",children:"print"}),(0,a.jsx)(e.span,{className:"token punctuation",children:"("}),(0,a.jsx)(e.span,{className:"token string",children:'"Overshoot:"'}),(0,a.jsx)(e.span,{className:"token punctuation",children:","})," info",(0,a.jsx)(e.span,{className:"token punctuation",children:"["}),(0,a.jsx)(e.span,{className:"token string",children:'"Overshoot"'}),(0,a.jsx)(e.span,{className:"token punctuation",children:"]"}),(0,a.jsx)(e.span,{className:"token punctuation",children:")"}),"\n\n",(0,a.jsx)(e.span,{className:"token comment",children:"#result"}),"\n",(0,a.jsx)(e.span,{className:"token comment",children:"#feedback info"}),"\n",(0,a.jsx)(e.span,{className:"token comment",children:"#-------------"}),"\n",(0,a.jsx)(e.span,{className:"token comment",children:"#RiseTime: 0.5058786385507097"}),"\n",(0,a.jsx)(e.span,{className:"token comment",children:"#Overshoot: 93.70305071110504"}),"\n"]})})}),"\n",(0,a.jsx)(e.p,{children:"So that's all for now! You've seen how Python can be used to design a simple PID\ncontroller, using the Ziegler-Nichols method as one of many techniques to\ndetermine the PID parameters. Keep in mind that this approach may not always\nproduce optimal values for your specific needs. From here, you can start\nexperimenting with different techniques to fine-tune your controller using\nthe libraries that we use."}),"\n",(0,a.jsxs)(e.p,{children:["You can check the full code ",(0,a.jsx)(e.a,{href:"https://github.com/alefram/notebooks/blob/master/pid.ipynb",children:"here"})]}),"\n",(0,a.jsx)(e.p,{children:"I hope this has been helpful, and I'll see you soon!"}),"\n",(0,a.jsx)(e.h2,{children:"References"}),"\n",(0,a.jsxs)(e.ul,{children:["\n",(0,a.jsxs)(e.li,{children:["\n",(0,a.jsxs)(e.p,{children:["[1] Katushiko Ogata.",(0,a.jsx)(e.a,{href:"https://www.amazon.com/Modern-Control-Engineering-Katsuhiko-Ogata/dp/0136156738",children:'"Modern Control Engineering fifth Edition"'}),".\nPrentice Hall."]}),"\n"]}),"\n",(0,a.jsxs)(e.li,{children:["\n",(0,a.jsxs)(e.p,{children:["[2] Carl Sandrock. ",(0,a.jsx)(e.a,{href:"https://dynamics-and-control.readthedocs.io/en/latest/2_Control/2_Laplace_domain_analysis_of_control_systems/SymPy%20Routh%20Array.html",children:'"Dynamics and Control with jupyter notebooks"'}),"."]}),"\n"]}),"\n",(0,a.jsxs)(e.li,{children:["\n",(0,a.jsxs)(e.p,{children:["[3] Carl Sandrock. ",(0,a.jsx)(e.a,{href:"https://github.com/alchemyst/Dynamics-and-Control/blob/master/tbcontrol/symbolic.py",children:'"tbcontrol library"'}),"."]}),"\n"]}),"\n",(0,a.jsxs)(e.li,{children:["\n",(0,a.jsxs)(e.p,{children:["[4] Python-control.org. ",(0,a.jsx)(e.a,{href:"https://python-control.readthedocs.io/en/0.9.3.post2/",children:'"Python Control System Library"'}),"."]}),"\n"]}),"\n",(0,a.jsxs)(e.li,{children:["\n",(0,a.jsxs)(e.p,{children:["[5] Sympy Developer Team. ",(0,a.jsx)(e.a,{href:"https://docs.sympy.org/latest/index.html",children:"Sympy Documentation"}),"."]}),"\n"]}),"\n",(0,a.jsxs)(e.li,{children:["\n",(0,a.jsxs)(e.p,{children:["[6] PID Controller ",(0,a.jsx)(e.a,{href:"https://en.wikipedia.org/wiki/PID_controller",children:"wikipedia"}),"."]}),"\n"]}),"\n"]})]})}e.default=function(n){var e=void 0===n?{}:n;return(0,a.jsx)(l,Object.assign({},e,{children:(0,a.jsx)(i,e)}))}},3125:function(){},7617:function(n,e,s){var a,t,o,c;c=function(n,e,s,a){"use strict";function t(n){return n&&n.__esModule?n:{default:n}}function o(n){if("function"!==typeof WeakMap)return null;var e=new WeakMap,s=new WeakMap;return(o=function(n){return n?s:e})(n)}function c(n,e){if(!e&&n&&n.__esModule)return n;if(null===n||"object"!==typeof n&&"function"!==typeof n)return{default:n};var s=o(e);if(s&&s.has(n))return s.get(n);var a={},t=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in n)if("default"!==c&&Object.prototype.hasOwnProperty.call(n,c)){var r=t?Object.getOwnPropertyDescriptor(n,c):null;r&&(r.get||r.set)?Object.defineProperty(a,c,r):a[c]=n[c]}return a.default=n,s&&s.set(n,a),a}Object.defineProperty(n,"__esModule",{value:!0}),function(n,e){for(var s in e)Object.defineProperty(n,s,{enumerable:!0,get:e[s]})}(n,{BlockMath:()=>h,InlineMath:()=>d}),e=c(e),s=t(s),a=t(a);const r=(n,{displayMode:t})=>{const o=({children:s,errorColor:o,math:c,renderError:r})=>{const l=null!==c&&void 0!==c?c:s,{html:i,error:p}=(0,e.useMemo)((()=>{try{return{html:a.default.renderToString(l,{displayMode:t,errorColor:o,throwOnError:!!r}),error:void 0}}catch(p){if(p instanceof a.default.ParseError||p instanceof TypeError)return{error:p};throw p}}),[l,o,r]);return p?r?r(p):e.default.createElement(n,{html:`${p.message}`}):e.default.createElement(n,{html:i})};return o.propTypes={children:s.default.string,errorColor:s.default.string,math:s.default.string,renderError:s.default.func},o},l={html:s.default.string.isRequired},i=({html:n})=>e.default.createElement("div",{"data-testid":"react-katex",dangerouslySetInnerHTML:{__html:n}});i.propTypes=l;const p=({html:n})=>e.default.createElement("span",{"data-testid":"react-katex",dangerouslySetInnerHTML:{__html:n}});p.propTypes=l;const h=r(i,{displayMode:!0}),d=r(p,{displayMode:!1})},"object"===typeof n.exports?c(e,s(7294),s(5697),s(527)):(t=[e,s(7294),s(5697),s(527)],void 0===(o="function"===typeof(a=c)?a.apply(e,t):a)||(n.exports=o))},1151:function(n,e,s){"use strict";s.d(e,{ah:function(){return o}});var a=s(7294);const t=a.createContext({});function o(n){const e=a.useContext(t);return a.useMemo((()=>"function"===typeof n?n(e):{...e,...n}),[e,n])}}},function(n){n.O(0,[774,573,557,474,888,179],(function(){return e=6776,n(n.s=e);var e}));var e=n.O();_N_E=e}]);