import Layout from '../../components/Layout';
import 'katex/dist/katex.min.css';
import { InlineMath, BlockMath } from 'react-katex';
import { Mermaid } from 'mdx-mermaid/Mermaid';

export const meta = {
    title: 'Building a PID controller in Python from scratch',
    date: '2023-03-25'
}

The PID controller is an essential tool used in multiple industries, enabling 
the maintenance of the desired setpoint and ensuring control and stability. By 
mastering the PID controller, you can optimize a range of projects and 
applications, achieving excellent control over your system. Building a PID 
controller from scratch in Python is not only a valuable skill but also a step 
towards taking full advantage of this powerful control mechanism.

## Designing the PID controller

A basic diagram of a PID controller looks like this:

{/* TODO: add the pid controller diagram */}
{/* <img src="/images/pid.png"/> */}

<Mermaid chart={`
flowchart LR 

    input(("r(t)")) --> sum1((Σ))
    sum1 --- node(("e(t)"))
    node --> P("P Kp e(t)")
    node --> I("I Ki ∫e(t)")
    node --> D("D Kd de(t)/dt")
    P --> sum2((Σ))
    I --> sum2((Σ))
    D --> sum2((Σ))
    sum2 --- u(("u(t)"))
    u --> plant("plant \n process") 
    plant --> node2((" "))
    node2 --> out(("y(t)"))
    node2  -->|"-y(t)"| sum1
    

    style node fill:#ffffff, stroke-width:0px
    style u fill:#ffffff, height:100px, stroke-width:0px
    style node2 fill:#333, height:100px, stroke-width:0px
    style sum1 stroke-width:0px
    style sum2 stroke-width:0px
    style input fill:#ffffff, stroke-width:0px
    style out fill:#ffffff, stroke-width:0px
`} /> 



e(t) is known as the error signal, which is the difference between a desired 
process value or setpoint r(t) and a measured process variable y(t) from the 
system that we want to control. u(t) is the output of the PID controller known 
as the control signal that will attempts to minimize the error e(t) over time. 


The PID controller, consists in 3 different parts: the 


From this diagram, we can write the equation of the PID like this:

<div style={{ display: 'block', margin: 'auto', width: '60%' }}>
    <InlineMath math="u(t) = K_p e(t) + K_i \int_{0}^{t} e(\tau) d\tau + K_d \frac{d}{dt} e(t)"/>
</div>



{/* TODO: explain the components of the formula */}
Where:

* <InlineMath math="K_p"/>: represents

* <InlineMath math="k_i"/>: represents

* <InlineMath math="k_d"/>: represents

* <InlineMath math="e(t)"/>: represents

* <InlineMath math="u(t)"/>: represents

## Implementing the PID in Python

## Testing the PID


{/* concluciones */}

## Reference



{/* The PID controller, works by using a feedback loop to continuously adjust inputs 
and outputs, while the Proportional, Integral, and Derivative components 
calculate the necessary corrections. */}

export default ({ children }) => <Layout meta={meta}>{children}</Layout>

